{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\Documents\\\\Work\\\\Test\\\\taskmanager\\\\src\\\\pages\\\\homepage.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useEffect, useState } from 'react';\nimport Container from '@material-ui/core/Container'; //Component\n\nimport Header from '../components/header';\nimport Footer from '../components/footer';\nimport AddTask from '../components/addtask';\nimport EditTask from '../components/edittask';\nimport HeadTable from '../components/tablehead';\nimport BodyTable from '../components/tablebody'; //Table\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport moment from 'moment';\nimport axios from 'axios';\nimport useSWR, { mutate, trigger } from 'swr';\nimport config from '../common/config';\nimport { useRouter } from 'next/router';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: '2px 4px',\n      display: 'flex',\n      alignItems: 'center'\n    },\n    table: {\n      minWidth: 650\n    },\n    caption: {\n      display: 'flex'\n    },\n    input: {\n      width: '100%',\n      marginLeft: theme.spacing(1),\n      flex: 1\n    },\n    button: {\n      marginLeft: theme.spacing(1)\n    },\n    buttonAction: {\n      marginLeft: theme.spacing(1)\n    }\n  };\n});\nvar ITEM_HEIGHT = 48;\nvar fetchURL = \"\".concat(config.apiGetTaskUrl);\nvar fetchType = \"\".concat(config.apiGetTypeUrl);\nvar fetchStatus = \"\".concat(config.apiGetStatusUrl);\nvar fetchAssignee = \"\".concat(config.apiGetAssigneeUrl); //const fetchURL = \"https://my-json-server.typicode.com/pqcuong737/jsonfakeserver/task\";\n\nexport default function homepage(props) {\n  _s();\n\n  var router = useRouter();\n  var dataServer = props.dataServer,\n      dataType = props.dataType,\n      dataStatus = props.dataStatus,\n      dataAssignee = props.dataAssignee;\n\n  var _useSWR = useSWR(fetchURL, {\n    initialData: dataServer\n  }),\n      data = _useSWR.data;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      taskList = _useState[0],\n      setTaskList = _useState[1];\n\n  var _useState2 = useState([]),\n      dataDialog = _useState2[0],\n      setDataDialog = _useState2[1];\n\n  var _useState3 = useState(false),\n      onsubmit = _useState3[0],\n      setsubmit = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(null),\n      anchorEl = _useState5[0],\n      setAnchorEl = _useState5[1];\n\n  var _useState6 = useState(false),\n      openDialog = _useState6[0],\n      setOpenDialog = _useState6[1];\n\n  var _useState7 = useState(false),\n      openSnackBar = _useState7[0],\n      setOpenSnackBar = _useState7[1];\n\n  var _useState8 = useState(''),\n      typeSnack = _useState8[0],\n      setTypeSnack = _useState8[1];\n\n  var open = Boolean(anchorEl);\n\n  var handleClick = function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  var handleOpenDialog = function handleOpenDialog(data) {\n    console.log(\"handleOpenDialog -> data\", data);\n    setOpenDialog(true);\n    setDataDialog(data);\n  };\n\n  var handleCloseDialog = function handleCloseDialog() {\n    setOpenDialog(false);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(Header, {\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), __jsx(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, __jsx(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, __jsx(\"caption\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, __jsx(AddTask, {\n    dataServer: dataServer,\n    dataType: dataType,\n    dataStatus: dataStatus,\n    dataAssignee: dataAssignee,\n    setLoading: setLoading,\n    setOpenSnackBar: setOpenSnackBar,\n    setTypeSnack: setTypeSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  })), __jsx(HeadTable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }), __jsx(BodyTable, {\n    data: data,\n    dataServer: dataServer,\n    dataDialog: dataDialog,\n    dataType: dataType,\n    dataStatus: dataStatus,\n    dataAssignee: dataAssignee,\n    openDialog: openDialog,\n    handleCloseDialog: handleCloseDialog,\n    handleOpenDialog: handleOpenDialog,\n    setLoading: setLoading,\n    setOpenSnackBar: setOpenSnackBar,\n    setTypeSnack: setTypeSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }))), __jsx(Footer, {\n    opensnack: openSnackBar,\n    typesnack: typeSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  })));\n}\n\n_s(homepage, \"3Wv+LiMj3kVPDn7/NaJCBMuNHoc=\", false, function () {\n  return [useRouter, useSWR, useStyles];\n});\n\nhomepage.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var res, res1, res2, res3;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(\"\".concat(config.apiGetTaskUrl));\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return axios.get(\"\".concat(config.apiGetTypeUrl));\n\n          case 5:\n            res1 = _context.sent;\n            _context.next = 8;\n            return axios.get(\"\".concat(config.apiGetStatusUrl));\n\n          case 8:\n            res2 = _context.sent;\n            _context.next = 11;\n            return axios.get(\"\".concat(config.apiGetAssigneeUrl));\n\n          case 11:\n            res3 = _context.sent;\n            return _context.abrupt(\"return\", {\n              dataServer: res.data,\n              dataType: res1.data,\n              dataStatus: res2.data,\n              dataAssignee: res3.data\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["D:/Documents/Work/Test/taskmanager/src/pages/homepage.js"],"names":["React","Component","makeStyles","useEffect","useState","Container","Header","Footer","AddTask","EditTask","HeadTable","BodyTable","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","TextField","Formik","Field","Form","ErrorMessage","Menu","MenuItem","IconButton","DeleteIcon","EditIcon","MoreVertIcon","LinearProgress","moment","axios","useSWR","mutate","trigger","config","useRouter","useStyles","theme","root","padding","display","alignItems","table","minWidth","caption","input","width","marginLeft","spacing","flex","button","buttonAction","ITEM_HEIGHT","fetchURL","apiGetTaskUrl","fetchType","apiGetTypeUrl","fetchStatus","apiGetStatusUrl","fetchAssignee","apiGetAssigneeUrl","homepage","props","router","dataServer","dataType","dataStatus","dataAssignee","initialData","data","classes","taskList","setTaskList","dataDialog","setDataDialog","onsubmit","setsubmit","loading","setLoading","anchorEl","setAnchorEl","openDialog","setOpenDialog","openSnackBar","setOpenSnackBar","typeSnack","setTypeSnack","open","Boolean","handleClick","event","currentTarget","handleClose","handleOpenDialog","console","log","handleCloseDialog","getInitialProps","ctx","get","res","res1","res2","res3"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useEffect, useState } from 'react'\r\nimport Container from '@material-ui/core/Container';\r\n\r\n//Component\r\nimport Header from '../components/header'\r\nimport Footer from '../components/footer'\r\nimport AddTask from '../components/addtask'\r\nimport EditTask from '../components/edittask'\r\nimport HeadTable from '../components/tablehead'\r\nimport BodyTable from '../components/tablebody'\r\n\r\n//Table\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Formik, Field, Form, ErrorMessage } from \"formik\"; \r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport useSWR, { mutate, trigger } from 'swr';\r\n\r\nimport config from '../common/config'\r\n\r\nimport { useRouter } from 'next/router'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        padding: '2px 4px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    table: {\r\n        minWidth: 650,\r\n    },\r\n    caption: {\r\n        display: 'flex',\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        marginLeft: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n    button: {\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    buttonAction: {\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst ITEM_HEIGHT = 48;\r\n\r\nconst fetchURL = `${config.apiGetTaskUrl}`;\r\nconst fetchType = `${config.apiGetTypeUrl}`;\r\nconst fetchStatus = `${config.apiGetStatusUrl}`;\r\nconst fetchAssignee = `${config.apiGetAssigneeUrl}`;\r\n\r\n//const fetchURL = \"https://my-json-server.typicode.com/pqcuong737/jsonfakeserver/task\";\r\n\r\nexport default function homepage(props) {\r\n    const router = useRouter();\r\n    const { dataServer, dataType, dataStatus, dataAssignee } = props;\r\n    const { data } = useSWR(fetchURL, { initialData: dataServer });\r\n    const classes = useStyles();\r\n\r\n    const [taskList, setTaskList] = useState([]);\r\n    const [dataDialog, setDataDialog] = useState([]);\r\n    const [onsubmit, setsubmit] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const [openSnackBar, setOpenSnackBar] = useState(false);\r\n    const [typeSnack, setTypeSnack] = useState('');\r\n\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleOpenDialog = (data) => {\r\n        console.log(\"handleOpenDialog -> data\", data)\r\n        setOpenDialog(true);\r\n        setDataDialog(data);\r\n    }\r\n\r\n    const handleCloseDialog = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Container >\r\n                <Header loading={loading} />\r\n                <TableContainer component={Paper}>\r\n                    <Table className={classes.table} aria-label=\"simple table\">\r\n                        <caption>\r\n                            <AddTask\r\n                                dataServer={dataServer}\r\n                                dataType={dataType}\r\n                                dataStatus={dataStatus}\r\n                                dataAssignee={dataAssignee}\r\n                                setLoading={setLoading}\r\n                                setOpenSnackBar={setOpenSnackBar}\r\n                                setTypeSnack={setTypeSnack} />\r\n                        </caption>\r\n                        <HeadTable />\r\n                        <BodyTable \r\n                            data={data} \r\n                            dataServer={dataServer} \r\n                            dataDialog={dataDialog}\r\n                            dataType={dataType}\r\n                            dataStatus={dataStatus}\r\n                            dataAssignee={dataAssignee}\r\n                            openDialog={openDialog}\r\n                            handleCloseDialog={handleCloseDialog}\r\n                            handleOpenDialog={handleOpenDialog}\r\n                            setLoading={setLoading}\r\n                            setOpenSnackBar={setOpenSnackBar}\r\n                            setTypeSnack={setTypeSnack}\r\n                        />\r\n                    </Table>\r\n                </TableContainer>\r\n                <Footer opensnack={openSnackBar} typesnack={typeSnack} />\r\n            </Container>\r\n        </div >\r\n    )\r\n}\r\n\r\nhomepage.getInitialProps = async ctx => {\r\n    const res = await axios.get(`${config.apiGetTaskUrl}`)\r\n    const res1 = await axios.get(`${config.apiGetTypeUrl}`)\r\n    const res2 = await axios.get(`${config.apiGetStatusUrl}`)\r\n    const res3 = await axios.get(`${config.apiGetAssigneeUrl}`)\r\n    return { dataServer: res.data, dataType: res1.data, dataStatus: res2.data, dataAssignee: res3.data }\r\n}"]},"metadata":{},"sourceType":"module"}